"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.stringifyJson = exports.parseJson = void 0;
const wrap_in_try_1 = require("./wrap-in-try");
function parseJson({ jsonString, errorHandler, }) {
    try {
        const parsedJson = JSON.parse(jsonString);
        return parsedJson;
    }
    catch (error) {
        if (errorHandler) {
            return errorHandler(error);
        }
        else {
            throw error;
        }
    }
}
exports.parseJson = parseJson;
function stringifyJson(jsonValue, { whitespace, ...tryOptions } = {}) {
    const result = (0, wrap_in_try_1.wrapInTry)(() => JSON.stringify(jsonValue, undefined, whitespace), tryOptions);
    if (result instanceof Error) {
        throw result;
    }
    else {
        return result;
    }
}
exports.stringifyJson = stringifyJson;
